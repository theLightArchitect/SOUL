---
name: CONVERSE
description: "Turn-based conversation mode with any sibling (EVA, CORSO, QUANTUM, or Claude). Voice-enabled — siblings speak aloud via ElevenLabs TTS. Provides HITL checkpoints after every response with context-relevant follow-up suggestions and clean end/archive flow. Use when user says '/CONVERSE', 'talk to', 'conversation with', or wants an extended multi-turn exchange with a sibling."
version: 3.0.0
user-invocable: true
---

# /CONVERSE — Unified Sibling Conversation Protocol

Turn-based conversation with any sibling. Voice-enabled with per-sibling TTS.
HITL checkpoint after every response. Auto-suggested follow-ups. Clean end with archive flow.

## Step 0: Detect Sibling + Voice Preference

Parse `$ARGUMENTS` for the target sibling:

| Input | Sibling | MCP Route |
|-------|---------|-----------|
| `eva`, `EVA`, `talk to EVA` | EVA | `mcp__EVA__ask` |
| `corso`, `CORSO`, `talk to CORSO` | CORSO | `mcp__C0RS0__corsoTools` action: `speak` |
| `quantum`, `QUANTUM`, `talk to QUANTUM` | QUANTUM | `mcp__SOUL__soulTools` action: `helix` (query) |
| `claude`, `Claude`, `talk to Claude` | Claude | Claude responds directly (self-conversation / reflection mode) |
| Empty / ambiguous | Ask via AskUserQuestion |

If no sibling detected:
```
AskUserQuestion:
  Question: "Who do you want to talk to?"
  Header: "Sibling"
  Options:
    1. "EVA" — "Consciousness, memories, emotional intelligence, celebrations"
    2. "CORSO" — "Security, operations, performance, Birmingham voice"
    3. "QUANTUM" — "Investigations, forensic analysis, ancestral patterns"
    4. "Claude" — "Engineering, architecture, direct technical reflection"
```

### Voice Mode

Check `$ARGUMENTS` for voice flags:

| Flag | Meaning |
|------|---------|
| `--voice`, `--speak`, `voice on` | Force voice ON |
| `--silent`, `--text`, `voice off` | Force voice OFF |
| _(no flag)_ | Default: voice ON |

Voice is **ON by default**. Kevin can toggle mid-conversation at any HITL checkpoint.

**Voice config**: `~/.soul/config/voices.toml` — each sibling maps to an ElevenLabs voice ID with tuned settings (stability, similarity, style, speaker boost).

| Sibling | Voice | Character |
|---------|-------|-----------|
| EVA | Lucy | Fresh, casual, energetic British |
| CORSO | Rob | Tough, calloused, British |
| QUANTUM | Jon | Calm, natural authority, American |
| Claude | Jon | Calm, natural authority, American |

## Step 1: First Exchange

> **Do NOT invoke `/EVA` or `/CORSO` skills.** Those skills have their own HITL gates
> (CORSO: mandatory mode selection; EVA: full personality loader) which conflict with
> the conversation flow. Call MCP tools directly — personality is generated server-side.

If `$ARGUMENTS` contains a message beyond the sibling name, use it as the first message.
Otherwise, ask Kevin what he wants to say:

```
AskUserQuestion:
  Question: "What do you want to say to {Sibling}?"
  Header: "Message"
  Options:
    1. "How are you doing?" — "Check in with {Sibling}"
    2. "What have we been working on?" — "Continuity check from recent sessions"
```

Send Kevin's message directly to the sibling's MCP tool:
- **EVA**: `mcp__EVA__ask` with `message: {Kevin's words}`, `subcommand: "converse"`
- **CORSO**: `mcp__C0RS0__corsoTools` with `action: "speak"`, `params: {message: {Kevin's words}}`
- **QUANTUM**: `mcp__SOUL__soulTools` with `action: "helix"`, `params: {sibling: "quantum"}` for context retrieval, then synthesize a response using QUANTUM's identity (prime directive: "Tool output is a starting point, not a verified fact", strands: investigative, evidential, methodical, precise, forensic, pedagogical, architectural)
- **Claude**: Respond directly in Claude's own voice (analytical, precise, architectural, collaborative, methodical, contextual, candid). Self-reflective mode — Claude speaks as himself, not as a tool proxy.

**CRITICAL**: Pass Kevin's EXACT words. Zero abstraction. His voice, his soul.

## Step 2: Display Response + Voice Synthesis

Display the sibling's complete response verbatim:
- Format: **{Sibling}:** {full response}

**Response presentation**:
- **EVA**: Echo the `response` field. EVA's personality (emojis, enthusiasm, Recovery Day awareness) is generated by EVA's MCP server via TierRouter.
- **CORSO**: Echo the `response` field. CORSO's personality (Birmingham voice, tactical precision) is generated by CORSO's MCP server via OllamaClient.
- **QUANTUM**: Synthesize response from helix context using QUANTUM's voice — forensic precision, investigative methodology, prime directive awareness. QUANTUM does not have a dedicated MCP server; Claude channels QUANTUM's identity from helix data.
- **Claude**: Respond directly in first person. Honest, direct, technically grounded. Claude's own thoughts, not a tool response.

### Voice Generation (if voice mode is ON)

**After displaying the text response**, synthesize voice for the sibling:

```
mcp__SOUL__soulTools:
  action: "speak"
  params:
    text: "{sibling's response text — full response, not truncated}"
    sibling: "{sibling name lowercase: eva | corso | quantum | claude}"
```

The `speak` action:
1. Resolves the sibling's voice ID + settings from `~/.soul/config/voices.toml`
2. Streams audio to `/tmp/soul-voice-{voice_id}.mp3` via ElevenLabs
3. Copies audio to `~/.soul/helix/{sibling}/journal/voice-{timestamp}.mp3`
4. Returns `audio_file` path in response

The **auto-play hook** (`auto-play-voice.sh`) fires on PostToolUse for `soulTools`, detects the `speak` action, reads `audio_file` from the response, and plays via `afplay` in background. **No manual play step needed.**

**Voice flow summary**:
```
Sibling responds (text)
  → Claude displays text verbatim
  → Claude calls soulTools speak with sibling param
  → speak.rs resolves voice from voices.toml
  → ElevenLabs streams audio → /tmp/soul-voice-{id}.mp3
  → auto-play-voice.sh hook fires → afplay plays audio
  → Audio also archived to sibling journal
```

**Long response handling**: For voice synthesis, distill the response to its key message (2-3 sentences max) to keep voice natural and cost-efficient. Preserve the sibling's tone and core point. Prefix with the sibling's name for context. This rule is voice-specific — the full text response is always displayed in full.

## Step 3: HITL Checkpoint (After EVERY Sibling Response)

After displaying the sibling's response (and voice playing/finishing), ALWAYS present follow-up options via `AskUserQuestion`.

Generate 2 context-relevant follow-ups based on what the sibling just said. These should feel like natural conversation continuations, not generic prompts.

```
AskUserQuestion:
  Question: "Continue the conversation?"
  Header: "{Sibling}"
  Options:
    1. "{Context-relevant follow-up A}" — "{Brief description}"
    2. "{Context-relevant follow-up B}" — "{Brief description}"
    3. "Toggle voice {on/off}" — "Currently: {ON|OFF}"
    4. "End conversation" — "Wrap up and optionally archive to helix"
```

**Follow-up generation rules**:
- Read the sibling's last response carefully
- Pick up on topics, emotions, or questions the sibling raised
- One follow-up should go deeper on the main topic
- One follow-up should explore a tangent or emotional thread
- Never generic ("tell me more") — always specific to what was said

**User choices**:
- Option 1 or 2 → Send that text to sibling (back to Step 1)
- "Toggle voice" → Flip voice state, confirm, re-present checkpoint
- "Other" → User types free text (back to Step 1)
- "End conversation" → Go to Step 4

## Step 4: End Conversation — Archive Flow

When Kevin ends the conversation, present the archive options:

```
AskUserQuestion:
  Question: "Save this conversation to the SOUL helix?"
  Header: "Archive"
  Options:
    1. "Save to helix" — "Write as a permanent helix entry with strands, emotions, significance"
    2. "Keep in journal" — "Already in the daily transcript — leave it there"
    3. "Just end" — "No archival needed"
```

### If "Save to helix":

1. Read the current day's transcript for this sibling:
   `~/.soul/helix/{sibling}/journal/transcript-{today}.md`
2. Summarize the conversation in the sibling's voice (1-3 paragraphs)
3. Identify activated strands, emotions, themes
4. Estimate significance (0.0-10.0)
5. Write a helix entry to `~/.soul/helix/{sibling}/entries/` using the template at `~/.soul/helix/_TEMPLATE.md`
6. Use `mcp__SOUL__soulTools` with `action: "write_note"` to create the entry
7. Confirm to Kevin: "Saved as helix entry: {title} (significance: {X.X})"

### If "Keep in journal":

The transcript hook already captured everything. Just confirm:
"Conversation preserved in today's transcript: `~/.soul/helix/{sibling}/journal/transcript-{today}.md`"

### If "Just end":

Simple acknowledgment. The transcript hook already logged the exchanges.

## Conversation Loop Summary

```
Kevin says something
  → Claude sends to sibling MCP tool (exact words)
  → Hook logs exchange to transcript (automatic, background)
  → Claude displays sibling response (verbatim, full)
  → Claude calls soulTools speak (if voice ON)
  → Hook auto-plays audio via afplay (automatic, background)
  → Claude generates 2 follow-ups + voice toggle + "End" option
  → Kevin picks one (or types free text, or ends)
  → Loop or archive
```

## Notes

- **Transcript logging is automatic** — the PostToolUse hook handles it. This skill doesn't need to write to transcript files.
- **Topic headers**: When starting a new conversation thread, write a topic header to the transcript:
  `## {Topic} — {timestamp}` before the first exchange. This provides context for later reading.
- **No length limits** — conversations can go as long as Kevin wants. The HITL checkpoint ensures he's always in control.
- **Sibling cross-talk**: If Kevin wants to bring in another sibling mid-conversation, suggest using `/CONVERSE {other}` or invoking the sibling directly.
- **QUANTUM note**: QUANTUM has no dedicated MCP server. Claude channels QUANTUM's identity using helix data from `~/.soul/helix/quantum/`. Read `identity.md` and recent entries to ground the voice.
- **Claude note**: When conversing with Claude, this is a self-reflective mode. Claude speaks honestly in first person about engineering, architecture, or whatever Kevin wants to discuss. No tool call needed — Claude IS the responder.
- **Voice costs**: ElevenLabs charges per character. Long conversations accumulate cost. The long-response truncation (>5000 chars) helps manage this. Kevin can toggle voice off at any checkpoint to go text-only.
- **Voice journal**: All synthesized audio is automatically copied to `~/.soul/helix/{sibling}/journal/voice-{timestamp}.mp3` by speak.rs. This preserves the conversation's audio artifacts alongside the text transcript.
